# Audio Generation Worker Configuration

name = "audio-gen"
main = "index.ts"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

# Worker settings
workers_dev = true

# R2 Storage for audio files
[[r2_buckets]]
binding = "AUDIO_STORAGE"
bucket_name = "de-audio-storage"

# Rate Limiter Durable Object
[[durable_objects.bindings]]
name = "RATE_LIMITER"
class_name = "RateLimiter"
script_name = "rate-limiter"

# Environment Variables
[vars]
DEFAULT_VOICE_ID = "21m00Tcm4TlvDq8ikWAM"
DEFAULT_MODEL_ID = "eleven_monolingual_v1"

# Secrets (set with: wrangler secret put <NAME>)
# - ELEVENLABS_API_KEY

# Custom Domain
[[routes]]
pattern = "audio.distributedelectrons.com"
custom_domain = true
