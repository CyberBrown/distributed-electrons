name = "config-service"
main = "index.ts"
compatibility_date = "2024-01-01"
node_compat = true

# Worker configuration
workers_dev = true
route = ""
zone_id = ""

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "multi_tenant_db"
database_id = ""  # To be filled in during deployment

# Environment variables
[env.production]
name = "config-service-production"

[env.production.d1_databases]
binding = "DB"
database_name = "multi_tenant_db_production"
database_id = ""  # Production database ID

[env.staging]
name = "config-service-staging"

[env.staging.d1_databases]
binding = "DB"
database_name = "multi_tenant_db_staging"
database_id = ""  # Staging database ID

[env.development]
name = "config-service-dev"

[env.development.d1_databases]
binding = "DB"
database_name = "multi_tenant_db_dev"
database_id = ""  # Development database ID

# Build configuration
[build]
command = "npm run build"

[build.upload]
format = "service-worker"

# Routes configuration
# These will be configured based on your domain
# Example routes:
# routes = [
#   { pattern = "config.yourdomain.com/*", zone_name = "yourdomain.com" }
# ]
